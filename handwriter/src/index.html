<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Handwriter — web</title>
  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./main/styles/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />
</head>
<body>
  <div class="bg-blob blob-a"></div>
  <div class="bg-blob blob-b"></div>
  <div class="bg-blob blob-c"></div>

  <div class="topbar liquidGL">
    <div class="topbar__brand">
      <div class="logo">HG</div>
      <div class="brand-copy">
        <span class="brand-kicker">Liquid Glass ready</span>
        <strong>Handwriter</strong>
      </div>
    </div>
    <button id="btn-theme-toggle" class="chip">Dark · Light</button>
  </div>

  <header class="hero liquidGL">
    <div class="hero__content">
      <div class="eyebrow">PWA • OCR personal</div>
      <h1>Handwriter (Web)</h1>
      <p>
        Calibrare mai ușoară, scan cu decupare, export sincer și experiență PWA.
        Acum cu o estetică Liquid Glass inspirată de noile principii Apple: claritate,
        ierarhie, consistență.
      </p>
      <div class="hero__actions">
        <button id="btn-start-calib" class="primary">Începe calibrare</button>
        <button id="btn-scan" class="ghost">Scan</button>
      </div>
    </div>
  </header>

  <section class="design-deck liquidGL">
    <div class="design-header">
      <div class="pill">Design refresh</div>
      <div>
        <h2>Liquid Glass kit</h2>
        <p>Controlează navigarea, păstrează conținutul lizibil și lasă lumina să modeleze suprafețele.</p>
      </div>
    </div>
    <div class="design-grid">
      <article class="design-card">
        <div class="design-chip">Navigare clară</div>
        <h3>Taburi & sidebars pe stratul superior</h3>
        <p>Butonul de căutare rămâne separat, iar spațiul pentru conținut curge dedesubt cu efect de scroll edge.</p>
        <ul>
          <li>Folosește layout-uri split când ai inspector.</li>
          <li>Adaptează tab bar-ul la sidebar pe ecrane late.</li>
        </ul>
      </article>
      <article class="design-card">
        <div class="design-chip">Materiale</div>
        <h3>Strat de control din sticlă fluidă</h3>
        <p>Tonurile se ajustează după fundal, iar butoanele adoptă umbră și reflexii subtile.</p>
        <ul>
          <li>Glass regulat pentru lizibilitate.</li>
          <li>Clear doar peste media bogată + strat de dimming.</li>
        </ul>
      </article>
      <article class="design-card">
        <div class="design-chip">Scalare</div>
        <h3>Continuity între dispozitive</h3>
        <p>Același schelet UI pe iPhone, iPad și desktop: controale rotunjite concentric, padding amplu, text aliniat la stânga.</p>
        <div class="design-metrics">
          <div>
            <small>Edge blur</small>
            <strong>1.2x</strong>
          </div>
          <div>
            <small>Tint adaptiv</small>
            <strong>On</strong>
          </div>
          <div>
            <small>Reduced motion</small>
            <strong>Respectat</strong>
          </div>
        </div>
      </article>
    </div>
  </section>

  <main>
    <section id="welcome" class="card liquidGL">
      <div class="card__content">
        <div class="section-title">
          <div class="pill">Pasul 1</div>
          <h2>Start</h2>
        </div>
        <p>Folosește butonul <b>Începe calibrare</b> pentru setul rapid (A–Z, a–z, 0–9, spațiu). După calibrare mergi la <b>Scan</b> ca să fotografiezi notițele, apoi verifică textul și exportă în format text/markdown.</p>
        <div class="controls">
          <button id="btn-view-samples" class="ghost">Vezi mostre</button>
          <button id="btn-clear-samples" class="ghost danger">Șterge toate mostrele</button>
        </div>
        <div id="install-hint" class="callout hidden">
          <div>
            <p><b>Instalează</b> aplicația pe ecranul de pornire pentru acces rapid.</p>
            <small>Funcționează și offline cu ultimul cache.</small>
          </div>
          <button id="btn-install">Instalează</button>
        </div>
      </div>
    </section>

    <section id="calib" class="card liquidGL hidden">
      <div class="card__content">
        <div class="section-title">
          <div class="pill">Pasul 2</div>
          <h2>Calibrare</h2>
        </div>
        <p>Scrie pe hârtie caracterul afișat și apasă <b>Fotografiază</b>. Poți sări peste simbolurile pe care nu le folosești. Setul poate fi extins automat când apar caractere noi în scan.</p>
        <div id="calib-info" class="muted"></div>
        <div id="calib-progress" class="progress">
          <div id="calib-progress-bar"></div>
        </div>
        <div id="calib-progress-text" class="progress-text"></div>
        <div class="controls">
          <button id="btn-use-quick" class="ghost">Set rapid A–Z + cifre</button>
          <button id="btn-use-full" class="ghost">Set complet tastatură</button>
          <button id="btn-next-untrained" class="primary">Următorul necalibrat</button>
        </div>
        <div class="video-frame">
          <div class="guide-box"></div>
          <video id="video" autoplay playsinline></video>
        </div>
        <canvas id="canvas" class="hidden"></canvas>
        <div class="controls">
          <button id="btn-capture" class="primary">Fotografiază</button>
          <button id="btn-next-char" class="ghost">Caracter următor</button>
          <button id="btn-skip-char" class="ghost">Nu folosesc simbolul</button>
          <button id="btn-done-calib" class="primary">Gata</button>
        </div>
        <div id="sample-feedback" class="callout hidden">
          <div class="thumb-wrapper"><img id="sample-thumb" alt="Previzualizare mostru" /></div>
          <div>
            <div id="sample-quality"></div>
            <div id="sample-warnings" class="warn"></div>
          </div>
        </div>
        <div id="calib-samples" class="sample-gallery"></div>
      </div>
    </section>

    <section id="scan" class="card liquidGL hidden">
      <div class="card__content">
        <div class="section-title">
          <div class="pill">Pasul 3</div>
          <h2>Scan</h2>
        </div>
        <p>Foto notiță — segmentează liniile și caracterele. Poți decupa, roti și reface captura înainte de procesare.</p>
        <div id="scan-live" class="video-frame">
          <div class="guide-box"></div>
          <video id="video-scan" autoplay playsinline></video>
        </div>
        <canvas id="canvas-scan" class="hidden"></canvas>
        <canvas id="scan-preview" class="hidden"></canvas>
        <div class="controls">
          <button id="btn-capture-scan" class="primary">Fotografiază notița</button>
          <button id="btn-retake" class="ghost hidden">Refă captura</button>
        </div>
        <div id="scan-edit" class="hidden">
          <p>Trage pe imagine pentru a decupa. Folosește rotirile pentru a alinia foaia.</p>
          <div class="controls">
            <button id="btn-rotate-left" class="ghost">Rotire -90°</button>
            <button id="btn-rotate-right" class="ghost">Rotire +90°</button>
            <button id="btn-process-scan" class="primary">Procesează text</button>
          </div>
          <div class="controls">
            <button id="btn-cancel-edit" class="ghost">Renunță</button>
          </div>
        </div>
        <div id="scan-result" class="result"></div>
      </div>
    </section>

    <section id="export" class="card liquidGL hidden">
      <div class="card__content">
        <div class="section-title">
          <div class="pill">Pasul 4</div>
          <h2>Rezultat & Export</h2>
        </div>
        <textarea id="final-text" rows="10"></textarea>
        <div class="controls">
          <button id="btn-export-txt" class="primary">Exportă .txt</button>
          <button id="btn-export-md" class="ghost">Exportă .md</button>
          <button id="btn-copy" class="ghost">Copiază în clipboard</button>
        </div>
      </div>
    </section>

    <section id="samples-list" class="card liquidGL hidden">
      <div class="card__content">
        <div class="section-title">
          <div class="pill">Bibliotecă</div>
          <h2>Mostre salvate</h2>
        </div>
        <div id="samples-grid"></div>
        <div class="controls"><button id="btn-back" class="ghost">Înapoi</button></div>
      </div>
    </section>
  </main>
  <footer class="liquidGL">
    <p>Handwriter — versiune web • Datele rămân în browser (LocalStorage)</p>
    <div class="footer-actions">
      <span>Glass UI powered by liquidGL</span>
    </div>
  </footer>

  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
    defer
  ></script>
  <script
    src="https://cdn.jsdelivr.net/gh/naughtyduk/liquidGL@main/scripts/liquidGL.js"
    defer
  ></script>
  <script type="module" src="./main/app/app.js"></script>
</body>
</html>
